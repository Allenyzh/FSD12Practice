(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7915:function(e,s,t){Promise.resolve().then(t.bind(t,1766))},1766:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var l=t(7437);t(594),t(9252);var n=t(2265);t(269);var a=t(6446),o=t(9997),i=function(e){let{role:s,content:t}=e;return(0,l.jsxs)("div",{className:"assistant"===s?"d-flex flex-row ai-chat-box border p-2 m-1 rounded":"d-flex flex-row user-chat-box border p-2 m-1 rounded",children:[(0,l.jsx)("div",{className:"chat-icon px-1",children:"assistant"===s?(0,l.jsx)("i",{className:"bi bi-robot"}):(0,l.jsx)("i",{className:"bi bi-person-circle"})}),(0,l.jsx)(a.U,{remarkPlugins:[o.Z],className:"chat-text mx-1",children:t})]})},r=t(4746),c=function(e){let{chat:s}=e,t=(0,n.useRef)(null),a=(0,n.useRef)(null),[o,c]=(0,n.useState)(!0),[u,d]=(0,n.useState)(!1),[x,h]=(0,n.useState)(""),[m,j]=(0,n.useState)(!1),p=()=>{t.current&&t.current.scrollIntoView({behavior:"smooth"})};return(0,n.useEffect)(()=>{o&&(p(),j(!0))},[s,o,m]),(0,l.jsxs)("div",{className:" p-3 chat-list",ref:a,onScroll:()=>{a.current&&d(scrollHeight-scrollTop>clientHeight+15)},children:[s.map((e,s)=>(0,l.jsx)(i,{role:e.role,content:e.content},s)),(0,l.jsxs)("div",{className:"scrool-button",children:[(0,l.jsx)("p",{children:x+o}),u&&(0,l.jsx)(r.Z,{className:"rounded-pill btn-secondary",onClick:()=>{c(!0)},children:(0,l.jsx)("i",{className:"bi bi-arrow-down"})})]}),(0,l.jsx)("div",{ref:t})]})},u=t(2824),d=t(358),x=t(6712),h=t(8473),m=t(2368),j=function(e){let{message:s,setMessage:t,sendMessage:n,apiUrl:a,setApiUrl:o,apiToken:i,setApiToken:r,model:c,setModel:j,clearChat:p}=e;return(0,l.jsx)("div",{className:"input-area",children:(0,l.jsxs)(u.Z,{fluid:!0,children:[(0,l.jsx)(d.Z,{className:"my-1",children:(0,l.jsx)(x.Z,{children:(0,l.jsxs)(h.Z,{children:[(0,l.jsx)(m.Z.Control,{as:"textarea",rows:3,value:s,onChange:t,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),n())}}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("button",{className:"btn btn-outline-primary m-2",onClick:n,children:(0,l.jsx)("i",{className:"bi bi-send-fill"})}),(0,l.jsx)("button",{className:"btn btn-outline-primary m-2",onClick:p,children:(0,l.jsx)("i",{className:"bi bi-x-octagon"})})]})]})})}),(0,l.jsxs)(d.Z,{children:[(0,l.jsx)(x.Z,{md:6,className:"my-1",children:(0,l.jsxs)(h.Z,{children:[(0,l.jsx)(h.Z.Text,{children:"API URL"}),(0,l.jsx)(m.Z.Control,{type:"text",list:"api-url-list",value:a,onChange:o}),(0,l.jsxs)("datalist",{id:"api-url-list",children:[(0,l.jsx)("option",{value:"https://api.openai.com/v1/chat/completions"}),(0,l.jsx)("option",{value:"http://localhost:11434/v1/chat/completions"})]})]})}),(0,l.jsx)(x.Z,{md:3,className:"my-1",children:(0,l.jsxs)(h.Z,{children:[(0,l.jsx)(h.Z.Text,{children:"API Token"}),(0,l.jsx)(m.Z.Control,{type:"text",value:i,onChange:r})]})}),(0,l.jsx)(x.Z,{md:3,className:"my-1",children:(0,l.jsxs)(h.Z,{children:[(0,l.jsx)(h.Z.Text,{children:"Model"}),(0,l.jsx)(m.Z.Control,{type:"text",list:"model-list",value:c,onChange:j}),(0,l.jsxs)("datalist",{id:"model-list",children:[(0,l.jsx)("option",{value:"gpt-3.5-turbo"}),(0,l.jsx)("option",{value:"gpt-4-turbo"}),(0,l.jsx)("option",{value:"gpt-4o"}),(0,l.jsx)("option",{value:"gemma:7b"}),(0,l.jsx)("option",{value:"llama3:8b"})]})]})})]})]})})};function p(){let[e,s]=(0,n.useState)(""),[t,a]=(0,n.useState)([]),[o,i]=(0,n.useState)("http://localhost:11434/v1/chat/completions"),[r,u]=(0,n.useState)("iloveyourtoken"),[d,x]=(0,n.useState)("gemma:7b"),h=async()=>{document.querySelector(".chat-content-area");let l={role:"user",content:e};s(""),a([...t,l]),await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({messages:[...t,l],model:d})}).then(e=>e.json()).then(e=>{a([...t,l,e.choices[0].message])})};return(0,l.jsxs)("main",{className:"d-flex flex-column h-100",children:[(0,l.jsx)(c,{chat:t}),(0,l.jsx)(j,{message:e,setMessage:e=>s(e.target.value),sendMessage:h,apiUrl:o,setApiUrl:e=>i(e.target.value),apiToken:r,setApiToken:e=>u(e.target.value),model:d,setModel:e=>x(e.target.value),clearChat:()=>{a([])}})]})}},269:function(){}},function(e){e.O(0,[610,51,983,441,971,23,744],function(){return e(e.s=7915)}),_N_E=e.O()}]);